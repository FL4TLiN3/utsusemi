#!/usr/bin/env node

var program = require('commander'),
    path = require('path'),
    fs = require('fs');

program
.version(JSON.parse(fs.readFileSync(__dirname + '/../package.json', 'utf8')).version)
.option('-t, --target [directory]', 'Add the specified directory of stab [./stub/]', './stub/')
.option('-p, --port [number]', 'specify port number [3000]', 3000)
.option('-s, --silent', 'suppress messages')
.parse(process.argv);

var Utsusemi = require('../'),
    utsusemi = new Utsusemi({
        port: program.port,
        silent: program.silent || false
    });
utsusemi.add(path.join(process.cwd(), program.target));
utsusemi.run();
